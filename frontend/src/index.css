@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * JarlPM Nordic Palette v1 — LOCKED
 * 
 * Muted Nordic blues and deep reds, heavily grounded in cool neutrals,
 * optimized for professional clarity and long-form use.
 * 
 * Neutrals dominate. Accents whisper.
 * 
 * FORBIDDEN:
 * - Pure white #FFFFFF
 * - Pure black #000000
 * - Flag-accurate reds/blues
 * - Neon or high-saturation colors
 * - Gradients as decoration
 * - Color-only status indicators
 */

@layer base {
  :root {
    /* ========================================
       LIGHT THEME — JarlPM Nordic v1
       ======================================== */
    
    /* Backgrounds */
    --bg-primary: 210 17% 96%;     /* #F4F6F8 - Soft Nordic off-white */
    --bg-secondary: 210 15% 93%;   /* #E9EDF1 - Panels, cards */
    --bg-tertiary: 210 14% 89%;    /* #DDE3E8 - Subtle contrast layers */
    
    /* Text */
    --text-primary: 210 22% 16%;   /* #1F2933 - Charcoal, not black */
    --text-secondary: 218 11% 34%; /* #4B5563 - Muted gray */
    --text-muted: 220 9% 46%;      /* #6B7280 */
    
    /* Borders & Dividers */
    --border-subtle: 212 19% 80%;  /* #CBD5E1 */
    --border-muted: 210 14% 85%;   /* #D1D9E0 */
    
    /* Primary Accent — Nordic Blue (Muted) */
    --accent-blue: 210 50% 37%;        /* #2F5D8C */
    --accent-blue-hover: 210 50% 31%;  /* #284F78 */
    --accent-blue-soft: 210 45% 44%;   /* #3B6FA3 - Rare use */
    
    /* Secondary Accent — Nordic Red (Muted) */
    --accent-red: 0 42% 39%;           /* #8F3A3A */
    --accent-red-hover: 0 42% 34%;     /* #7C3232 */
    --accent-red-soft: 0 38% 46%;      /* #A14A4A - Very limited */
    
    /* Utility Accent (Very Limited) */
    --accent-amber: 43 55% 39%;        /* #9A7B2F */
    
    /* Status Colors (Muted & Paired with Icons) */
    --status-confirmed: 150 30% 33%;   /* #3A6B4F - Muted Nordic green */
    --status-pending: 220 9% 46%;      /* #6B7280 - Neutral gray */
    --status-locked: 215 16% 35%;      /* #475569 - Slate */
    
    /* ========================================
       SEMANTIC MAPPINGS (Light)
       ======================================== */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    
    --card: var(--bg-secondary);
    --card-foreground: var(--text-primary);
    
    --popover: 210 15% 93%;
    --popover-foreground: var(--text-primary);
    
    --primary: var(--accent-blue);
    --primary-foreground: 210 17% 96%;
    
    --secondary: var(--bg-tertiary);
    --secondary-foreground: var(--text-primary);
    
    --muted: var(--bg-tertiary);
    --muted-foreground: var(--text-muted);
    
    --accent: var(--bg-secondary);
    --accent-foreground: var(--accent-blue);
    
    --destructive: var(--accent-red);
    --destructive-foreground: 210 17% 96%;
    
    --success: var(--status-confirmed);
    --success-foreground: 210 17% 96%;
    
    --warning: var(--accent-amber);
    --warning-foreground: 210 22% 16%;
    
    --border: var(--border-subtle);
    --input: var(--border-muted);
    --ring: var(--accent-blue);
    
    /* Chart colors - Muted palette */
    --chart-1: var(--accent-blue);
    --chart-2: var(--status-confirmed);
    --chart-3: var(--accent-amber);
    --chart-4: 280 15% 45%;
    --chart-5: var(--accent-red);
    
    --radius: 0.5rem;
  }

  /* ========================================
     DARK THEME — JarlPM Nordic v1
     ======================================== */
  .dark {
    /* Backgrounds */
    --bg-primary: 214 25% 9%;      /* #12161C - Deep charcoal-blue */
    --bg-secondary: 216 20% 13%;   /* #1A2029 - Panels, cards */
    --bg-tertiary: 214 18% 17%;    /* #232B36 */
    
    /* Text */
    --text-primary: 220 13% 91%;   /* #E5E7EB - Soft off-white */
    --text-secondary: 213 17% 76%; /* #B6C0CC */
    --text-muted: 215 13% 59%;     /* #8A94A6 */
    
    /* Borders & Dividers */
    --border-subtle: 214 18% 23%;  /* #2E3744 */
    --border-muted: 213 17% 28%;   /* #394455 */
    
    /* Accents remain consistent but may need subtle adjustment for contrast */
    --accent-blue: 210 50% 37%;
    --accent-blue-hover: 210 45% 44%;
    --accent-blue-soft: 210 40% 50%;
    
    --accent-red: 0 42% 39%;
    --accent-red-hover: 0 38% 46%;
    --accent-red-soft: 0 35% 50%;
    
    --accent-amber: 43 55% 45%;
    
    --status-confirmed: 150 28% 38%;
    --status-pending: 215 13% 59%;
    --status-locked: 215 16% 45%;
    
    /* ========================================
       SEMANTIC MAPPINGS (Dark)
       ======================================== */
    --background: var(--bg-primary);
    --foreground: var(--text-primary);
    
    --card: var(--bg-secondary);
    --card-foreground: var(--text-primary);
    
    --popover: 210 15% 93%;
    --popover-foreground: var(--text-primary);
    
    --primary: var(--accent-blue);
    --primary-foreground: 220 13% 91%;
    
    --secondary: var(--bg-tertiary);
    --secondary-foreground: var(--text-primary);
    
    --muted: var(--bg-tertiary);
    --muted-foreground: var(--text-muted);
    
    --accent: var(--bg-secondary);
    --accent-foreground: 210 40% 55%;
    
    --destructive: var(--accent-red);
    --destructive-foreground: 220 13% 91%;
    
    --success: var(--status-confirmed);
    --success-foreground: 220 13% 91%;
    
    --warning: var(--accent-amber);
    --warning-foreground: 214 25% 9%;
    
    --border: var(--border-subtle);
    --input: var(--border-muted);
    --ring: var(--accent-blue);
    
    --chart-1: 210 40% 50%;
    --chart-2: 150 25% 45%;
    --chart-3: 43 50% 50%;
    --chart-4: 280 15% 55%;
    --chart-5: 0 35% 50%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",
      "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  code {
    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New", monospace;
  }
}

/* Custom scrollbar - Nordic styled */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--bg-tertiary));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--border-muted));
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--text-muted) / 0.5);
}

/* Smooth animations */
.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Line clamp utilities */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Debug wrapper compatibility */
@layer base {
  [data-debug-wrapper="true"] {
    display: contents !important;
  }

  [data-debug-wrapper="true"] > * {
    margin-left: inherit;
    margin-right: inherit;
    margin-top: inherit;
    margin-bottom: inherit;
    padding-left: inherit;
    padding-right: inherit;
    padding-top: inherit;
    padding-bottom: inherit;
    column-gap: inherit;
    row-gap: inherit;
    gap: inherit;
    border-left-width: inherit;
    border-right-width: inherit;
    border-top-width: inherit;
    border-bottom-width: inherit;
    border-left-style: inherit;
    border-right-style: inherit;
    border-top-style: inherit;
    border-bottom-style: inherit;
    border-left-color: inherit;
    border-right-color: inherit;
    border-top-color: inherit;
    border-bottom-color: inherit;
  }
}

/* Focus visible styles - Accessible but not harsh */
@layer utilities {
  .focus-nordic {
    @apply focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }
}
